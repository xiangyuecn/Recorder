<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
<link rel="shortcut icon" type="image/png" href="../icon.png">

<title>Recorder H5 vue+webpack测试</title>
</head>

<body>
    <div class="rootView"></div>
    <script src="dist/index.js"></script>

	<!-- 控制台组件 -->
    <script>
	if(/mobile/i.test(navigator.userAgent)){
		//移动端加载控制台组件
		var elem=document.createElement("script");
		elem.setAttribute("type","text/javascript");
		elem.setAttribute("src","https://xiangyuecn.gitee.io/recorder/assets/ztest-vconsole.js");
		document.body.appendChild(elem);
		elem.onload=function(){
			new VConsole();
		};
	};
	
	window.onerror=function(message, url, lineNo, columnNo, error){
		//https://www.cnblogs.com/xianyulaodi/p/6201829.html
		vue_main.reclog('<span style="color:red">【Uncaught Error】'+message+'<pre>'+"at:"+lineNo+":"+columnNo+" url:"+url+"\n"+(error&&error.stack||"不能获得错误堆栈")+'</pre></span>');
	};
	</script>
	
	<!-- 加载打赏挂件 -->
	<script src="../zdemo.widget.donate.js"></script>
	<script>
	var donateView=document.createElement("div");
	document.querySelector(".mainLog").appendChild(donateView);
	DonateWidget({
		log:function(msg){vue_main.reclog(msg)}
		,mobElem:donateView
	});
	</script>
</body>
</html>